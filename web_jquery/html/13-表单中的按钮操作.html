<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>表单中的按钮操作</title>
    <script type="text/javascript" src="../js/jquery-3.6.3.min.js">

    </script>
</head>

<body>

    <fieldset style="width: 500px;">
        <legend>
            <label for="all">全选</label>
            <input type="checkbox" id="all" />
        </legend>
        <label for="r1">选项1</label>
        <input type="checkbox" id="r1" name="select" />

        <label for="r2">选项2</label>
        <input type="checkbox" id="r2" name="select" />

        <label for="r3">选项3</label>
        <input type="checkbox" id="r3" name="select" />

        <label for="r4">选项4</label>
        <input type="checkbox" id="r4" name="select" />

    </fieldset>

    <script>
        //jquery

        $(document).ready(function () {
            $('#all').change(function () {
                $('input[name="select"]').prop('checked', this.checked);
            });

            $('input[name="select"]').change(function () {
                var allChecked = $('input[name="select"]').length === $('input[name="select"]:checked').length;
                $('#all').prop('checked', allChecked);
            });
        }); 
    </script>
</body>

</html>